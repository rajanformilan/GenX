<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>GenX â€” Login</title>
<style>
  body { font-family: Arial; background: #f0f2f5; margin: 0; }
  .container { max-width: 400px; margin: 80px auto; background: white; padding: 20px; border-radius: 12px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); text-align:center; }
  h2 { color: #1877f2; margin-bottom:20px; }
  input, button { width: 100%; margin: 8px 0; padding: 10px; border-radius: 8px; border: 1px solid #ccc; box-sizing: border-box; font-size: 14px; }
  button { background: #1877f2; color: white; border: none; cursor: pointer; }
  button:hover { background: #165ec9; }
  a { color: #1877f2; text-decoration: none; }
</style>
</head>
<body>

<div class="container">
  <h2>Login to GenX</h2>
  <input type="email" id="email" placeholder="Email" required>
  <input type="password" id="password" placeholder="Password" required>
  <button id="loginBtn">Login</button>
  <p style="margin-top:15px;">Don't have an account? <a href="authentication.html">Sign Up</a></p>
</div>

<!-- Firebase SDK -->
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-database-compat.js"></script>

<script>
  // Firebase config
  const firebaseConfig = {
    apiKey: "AIzaSyAyMhgLjQg9zU1Tq2pFVmRiF_UiOBqPlj0",
    authDomain: "genx-7a5b3.firebaseapp.com",
    projectId: "genx-7a5b3",
    storageBucket: "genx-7a5b3.firebasestorage.app",
    messagingSenderId: "1293731877",
    appId: "1:1293731877:web:a330360ade1db5e68897cc"
  };
  firebase.initializeApp(firebaseConfig);

  const loginBtn = document.getElementById('loginBtn');
  const emailInput = document.getElementById('email');
  const passwordInput = document.getElementById('password');

  loginBtn.addEventListener('click', () => {
    const email = emailInput.value.trim();
    const password = passwordInput.value.trim();

    if(!email || !password){
      alert('Please enter both email and password!');
      return;
    }

    // Search in Firebase Realtime Database
    firebase.database().ref('users').once('value', snapshot => {
      const users = snapshot.val();
      let found = false;

      for(let key in users){
        if(users[key].email === email){
          // If you want password check, add password field to signup and check here
          found = true;
          alert('Login successful! Welcome, ' + users[key].name);
          // Redirect to profile/home page
          window.location.href = 'profile.html'; 
          break;
        }
      }

      if(!found){
        alert('No account found with this email!');
      }
    });
  });
</script>

</body>
</html>
